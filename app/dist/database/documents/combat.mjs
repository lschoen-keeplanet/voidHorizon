import BaseCombat from"../../../common/documents/combat.mjs";import ServerDocumentMixin from"../backend/server-document.mjs";export default class Combat extends(ServerDocumentMixin(BaseCombat)){static get collection(){return"combat"}async _preUpdate(e,t,a){await super._preUpdate(e,t,a),t.advanceTime&&db.Setting.advanceTime(t.advanceTime,{user:a})}static async _onDeleteScene(e){const t=(await this.find({scene:e.id})).map((e=>e.id));await this.sublevel.delMany(t),global.express.io.emit("modifyDocument",{request:{type:"Combat",action:"delete",options:{}},result:t})}}