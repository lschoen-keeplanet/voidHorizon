import BaseJournalEntry from"../../../common/documents/journal-entry.mjs";import ServerDocumentMixin from"../backend/server-document.mjs";import*as CONST from"../../../common/constants.mjs";export default class JournalEntry extends(ServerDocumentMixin(BaseJournalEntry)){static socketListeners(e){e.on("showEntry",this.#e.bind(e)),e.on("shareImage",this.#s.bind(e))}static#e(e,{force:s=!1,users:o=[]},t){if(o.length)for(const t of o){const o=game.users.find((e=>e.id===t));o&&o.sockets.forEach((o=>o.emit("showEntry",e,s)))}else this.broadcast.emit("showEntry",e,s);t(!0)}static#s({users:e,...s}={}){if(e?.length)for(const o of e){const e=game.users.find((e=>e.id===o));e&&e.sockets.forEach((e=>e.emit("shareImage",s)))}else this.broadcast.emit("shareImage",s)}}