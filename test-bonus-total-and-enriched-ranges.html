<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test - Bonus Total et Ranges Enrichis</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-section { margin: 20px 0; padding: 15px; border: 1px solid #ccc; border-radius: 5px; }
        .success { background-color: #d4edda; border-color: #c3e6cb; }
        .info { background-color: #d1ecf1; border-color: #bee5eb; }
        .warning { background-color: #fff3cd; border-color: #ffeaa7; }
        code { background-color: #f8f9fa; padding: 2px 4px; border-radius: 3px; }
        pre { background-color: #f8f9fa; padding: 10px; border-radius: 5px; overflow-x: auto; }
    </style>
</head>
<body>
    <h1>Test - Bonus Total et Ranges Enrichis</h1>
    
    <div class="test-section info">
        <h2>üéØ Objectif du Test</h2>
        <p>V√©rifier que les indicateurs de range (Safe et Unsafe) affichent correctement les bonus de trait et malus d'armure, et que le bonus total est affich√© sous chaque caract√©ristique.</p>
    </div>

    <div class="test-section">
        <h2>üìù Modifications Apport√©es</h2>
        
        <h3>1. Helpers getSafeRange et getUnsafeRange</h3>
        <p>Ces helpers ont √©t√© modifi√©s pour :</p>
        <ul>
            <li>Calculer le total des bonus de trait et malus d'armure</li>
            <li>Afficher les ranges ajust√©s avec les d√©tails des bonus</li>
            <li>Prendre en compte l'agilit√© d√ª √† l'armure</li>
        </ul>
        
        <h3>2. Helper getTotalBonus</h3>
        <p>Nouveau helper qui calcule et affiche le total des bonus pour une caract√©ristique donn√©e.</p>
        
        <h3>3. Template HTML</h3>
        <p>Mise √† jour pour passer l'objet <code>actor</code> √† tous les helpers de range.</p>
    </div>

    <div class="test-section">
        <h2>üîß Fonctionnalit√©s Impl√©ment√©es</h2>
        
        <h3>Ranges Enrichis</h3>
        <p>Les indicateurs de range affichent maintenant :</p>
        <ul>
            <li><strong>Range de base</strong> : ex. "5-20"</li>
            <li><strong>Range avec bonus</strong> : ex. "7-22 (+2 trait)"</li>
            <li><strong>Range avec malus</strong> : ex. "1-16 (-4 armure)"</li>
            <li><strong>Range avec bonus et malus</strong> : ex. "3-18 (+2 trait, -4 armure)"</li>
        </ul>
        
        <h3>Bonus Total Affich√©</h3>
        <p>Sous chaque caract√©ristique, un indicateur affiche :</p>
        <ul>
            <li><strong>Bonus positif</strong> : "+2 (+2 trait)"</li>
            <li><strong>Bonus n√©gatif</strong> : "-4 (-4 armure)"</li>
            <li><strong>Bonus mixte</strong> : "-2 (+2 trait, -4 armure)"</li>
            <li><strong>Aucun bonus</strong> : "0"</li>
        </ul>
    </div>

    <div class="test-section">
        <h2>üß™ Instructions de Test</h2>
        
        <h3>Test 1 : Bonus de Trait</h3>
        <ol>
            <li>Ouvrir une fiche personnage</li>
            <li>Ajouter un trait avec un bonus √† une caract√©ristique (ex. +3 en Martialit√©)</li>
            <li>V√©rifier que les ranges Safe/Unsafe affichent le bonus</li>
            <li>V√©rifier que le bonus total est affich√© sous la caract√©ristique</li>
        </ol>
        
        <h3>Test 2 : Malus d'Armure</h3>
        <ol>
            <li>Changer le type d'armure (L√©g√®re: -4, Lourde: -8, Blind√©e: -16)</li>
            <li>V√©rifier que les ranges d'Agilit√© sont ajust√©s</li>
            <li>V√©rifier que le malus d'armure est affich√© sous l'Agilit√©</li>
        </ol>
        
        <h3>Test 3 : Combinaison Bonus + Malus</h3>
        <ol>
            <li>Combiner un bonus de trait et un malus d'armure</li>
            <li>V√©rifier que les ranges affichent les deux</li>
            <li>V√©rifier que le bonus total est correct</li>
        </ol>
    </div>

    <div class="test-section warning">
        <h2>‚ö†Ô∏è Points d'Attention</h2>
        <ul>
            <li>Les ranges ne peuvent jamais descendre en dessous de 1</li>
            <li>Les bonus de trait sont toujours positifs</li>
            <li>Les malus d'armure ne s'appliquent qu'√† l'Agilit√©</li>
            <li>L'objet <code>actor</code> doit √™tre pass√© √† tous les helpers de range</li>
        </ul>
    </div>

    <div class="test-section success">
        <h2>‚úÖ R√©sultat Attendu</h2>
        <p>Les joueurs peuvent maintenant voir clairement :</p>
        <ul>
            <li>Les ranges exacts de leurs d√©s (avec bonus/malus appliqu√©s)</li>
            <li>Le d√©tail de tous les bonus et malus</li>
            <li>Le total des bonus sous chaque caract√©ristique</li>
            <li>L'impact de leur armure sur l'Agilit√©</li>
        </ul>
    </div>

    <div class="test-section">
        <h2>üìÅ Fichiers Modifi√©s</h2>
        <ul>
            <li><code>scripts/heros-sheet.js</code> - Helpers getSafeRange, getUnsafeRange, getTotalBonus</li>
            <li><code>templates/sheets/heros-sheet.html</code> - Passage de l'objet actor aux helpers</li>
            <li><code>styles/heros-sheet.css</code> - Styles pour l'affichage des bonus</li>
        </ul>
    </div>
</body>
</html>
